# ì¹´ì¹´ì˜¤ API ì‚¬ìš©ì¤€ë¹„

https://developers.kakao.com/product/search
ì¼ë‹¨ ì¹´ì¹´ì˜¤ì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ ì‚¬ìš©í• ê±´ë°

|![image](https://github.com/daryeou/kakao-assignment/assets/116724657/2af49a7d-8841-4ce1-bc10-5bcb75407eb2)|![image](https://github.com/Guri999/TIL/assets/116724657/5d8eeef0-c318-4415-9892-1fc4b846232a)|
|--|--|

ìœ„ë§í¬ì—ì„œ ì‹œì‘í•˜ê¸°ë¥¼ ë“¤ì–´ê°„ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¶”ê°€í•´ ì£¼ê³ 

REST APIí‚¤ë¥¼ ë°›ì•„ì¤€ë‹¤.

![image](https://github.com/Guri999/TIL/assets/116724657/e037cf4a-3061-4ae1-91bd-465e8fea6d55)

ë‹¤ì‹œ ë§í¬ë¡œ ë“¤ì–´ê°€ì„œ ë¬¸ì„œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ë ‡ê²Œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤.

https://developers.kakao.com/docs/latest/ko/daum-search/dev-guide#search-image

![image](https://github.com/Guri999/TIL/assets/116724657/e541bae9-c317-4700-a104-b3e1f32fb35c)

ì´ëŸ° ì‹ìœ¼ë¡œ ë˜ì–´ ìˆëŠ”ë° ë°ì´í„° í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë•Œ ì°¸ì¡°í• ê²ƒì´ë‹¤

# Retrofit

## Gradle
Retrofitì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„  gradleì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì•¼í•˜ëŠ”ë°

```kotlin
    //by viewModelsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±
    implementation ("androidx.activity:activity-ktx:1.7.2")
    implementation ("androidx.fragment:fragment-ktx:1.6.1")

    //retrofit
    implementation ("com.google.code.gson:gson:2.10.1")
    implementation ("com.squareup.retrofit2:retrofit:2.9.0")
    implementation ("com.squareup.retrofit2:converter-gson:2.9.0")
    implementation ("com.squareup.okhttp3:okhttp:4.10.0")
    implementation ("com.squareup.okhttp3:logging-interceptor:4.10.0")

    // coil
    implementation("io.coil-kt:coil:1.4.0")
```
ì´ëŸ°ì‹ìœ¼ë¡œ viewModelsì™€ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ coil ë ˆíŠ¸ë¡œí•, Gsonë“±ì„ ì¶”ê°€í•´ì¤€ë‹¤


## Retrofit ê°ì²´ ìƒì„±

```kotlin
object KakaoApi {

    private const val KAKAO_BASE_URL = "https://dapi.kakao.com/v2/search/"

    private fun createOkHttpClient(): OkHttpClient {
        val interceptor = HttpLoggingInterceptor()

        if (BuildConfig.DEBUG)
            interceptor.level = HttpLoggingInterceptor.Level.BODY
        else
            interceptor.level = HttpLoggingInterceptor.Level.NONE

        return OkHttpClient.Builder()
            .connectTimeout(20, TimeUnit.SECONDS)
            .readTimeout(20, TimeUnit.SECONDS)
            .writeTimeout(20, TimeUnit.SECONDS)
            .addNetworkInterceptor(interceptor)
            .build()
    }

    private val kakaoRetrofit = Retrofit.Builder().baseUrl(KAKAO_BASE_URL).addConverterFactory(GsonConverterFactory.create()).client(
        createOkHttpClient()
    ).build()

    val kakaoNetwork: KakaoSearchService = kakaoRetrofit.create(KakaoSearchService::class.java)
}
```
ì„œì¹˜ë¶€ë¶„ë§Œ ì“¸ ìƒê°ì´ë‹ˆ BASE_URLì„ "https://dapi.kakao.com/v2/search/"ë¡œ ì„¤ì •í•´ ì¤¬ë‹¤. 
> https://dapi.kakao.com/ ê¹Œì§€ë§Œ í•˜ê³  ì¸í„°í˜ì´ìŠ¤ Getì—ì„œ v2/search/ë¥¼ ì¶”ê°€í•´ë„ ìƒê´€ì—†ë‹¤

ë² ì´ìŠ¤ URLì„ ë§Œë“œì–´ ì¤¬ìœ¼ë‹ˆ ê·¸ ë’¤ì— ì˜¬ URLì„ ë§Œë“¤ì–´ì¤„
val kakaoNetwork: KakaoSearchService = kakaoRetrofit.create(KakaoSearchService::class.java)ì˜ KakaoSearchServiceì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•´ì£¼ë©´ ëœë‹¤.

## KakaoSearchService.kt

```kotlin
interface KakaoSearchService {
    @GET("image") //ì¹´ì¹´ì˜¤ ì´ë¯¸ì§€
    suspend fun searchImage(
        @Header("Authorization") apiKey: String,
        @Query("query") query: String, //ê²€ìƒ‰ì„ ì›í•˜ëŠ” ì§ˆì˜ì–´
        @Query("sort") sort: String, // ì •ë ¬ ë°©ì‹ accuracy(ì •í™•ë„ìˆœ) ë˜ëŠ” recency(ìµœì‹ ìˆœ)
        @Query("page") page: Int, // ê²°ê³¼ í˜ì´ì§€ ë²ˆí˜¸, 1~50 ì‚¬ì´ì˜ ê°’, ê¸°ë³¸ ê°’ 1
        @Query("size") size: Int// í•œ í˜ì´ì§€ì— ë³´ì—¬ì§ˆ ë¬¸ì„œ ìˆ˜, 1~80 ì‚¬ì´ì˜ ê°’, ê¸°ë³¸ ê°’ 80
    ) : Response<ImageModel>
}
```
https://developers.kakao.com/docs/latest/ko/daum-search/dev-guide#search-image
ë‹¤ì‹œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë§í¬ë¡œ ê°€ë©´

![image](https://github.com/Guri999/TIL/assets/116724657/6a841ce0-a4ee-47b3-a580-e0377e0e8813)

ìš”ì²­ë¶€ë¶„ì´ ì´ëŸ°ì‹ìœ¼ë¡œ ì„¤ëª…ëœê±¸ ë³¼ìˆ˜ ìˆëŠ”ë°

ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ë§ì¶°ì„œ ì ì–´ì£¼ë©´ëœë‹¤.

ì–´ë–¤ëŠë‚Œì´ëƒë©´ ì •ë³´ë¥¼ ë°›ì•„ì˜¬ë•Œ URLì´

https://dapi.kakao.com/v2/search/image?query=[ê²€ìƒ‰ì–´]&sort=recency&page=1&size=80

ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ëŠ”ë° ì—¬ê¸°ì„œ ë³€ê²½ê°€ëŠ¥í•œê±¸ ì •ì˜ í•´ì¤€ê±°ë‹¤.

searchImageë¥¼ ì‚¬ìš©í• ë•Œ queryë¶€ë¶„ì— ì‚¬ìš©ìê°€ ì ì€ ê²€ìƒ‰ì–´ë¥¼ ë„£ì–´ì£¼ê³  pageì— ìˆ«ìë¥¼ ì ìœ¼ë©´ ë‹¤ë¥¸í˜ì´ì§€ì˜ ë¬¸ì„œë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ”ë“±

BASE_URLê³¼ ë‹¬ë¦¬ ê³ ì • ë˜ì§€ ì•Šì€ë¶€ë¶„ì„ ë³€ê²½ì‹œí‚¬ ìˆ˜ ìˆê²Œ ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ê²ƒ

## ImageModel

API ì£¼ì†Œ ì„¤ì •í•˜ëŠ” ê²ƒê¹Œì§„ ì•Œê² ë‹¤

ì´ì   ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì•¼í•˜ëŠ”ë°

ë°›ì•„ì˜¬ë•Œ ì–´ë–»ê²Œ ë°›ì•„ì˜¬ì§€, entityê°™ì€ í‹€ì´ í•„ìš”í•˜ë‹¤

ì´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” í‹€ì€ [ë¬¸ì„œ](https://developers.kakao.com/docs/latest/ko/daum-search/dev-guide#search-image)ì—ì„œ ìš”êµ¬í•˜ëŠ” ì‚¬í•­ê³¼ ê°™ì•„ì•¼ í•œë‹¤.

ë¬¸ì„œë¥¼ ë‹¤ì‹œ ë‚´ë ¤ ë³´ë©´

![image](https://github.com/Guri999/TIL/assets/116724657/5e46254e-1dd5-43f5-b42e-d5a3c353b26d)

ì‘ë‹µë¶€ë¶„ì´ ì´ëŸ°ì‹ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.

ì—¬ê¸°ì„œ ìš”ì²­í•˜ëŠ”ëŒ€ë¡œ ëª¨ë¸ì„ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤

```kotlin
data class ImageModel(
    val meta: Meta,
    val documents: List<Document>
)

data class Meta(
    val total_count: Int,
    val pageable_count: Int,
    val is_end: Boolean
)

data class Document(
    val collection: String,
    val thumbnail_url: String?,
    val image_url: String,
    val width: Int,
    val height: Int,
    val display_sitename: String,
    val doc_url: String,
    val datetime: String
)
```

ì´ë¦„ì´ í–‡ê°ˆë¦¬ëŠ”ë° ë‚´ ìŠ¤íƒ€ì¼ ëŒ€ë¡œ ë°”ê¾¸ê³ ì‹¶ë‹¤ í•˜ë©´ ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ ë°”ê¿”ì¤„ ìˆ˜ë„ ìˆë‹¤

```kotlin
    ...
    @SerializedName("thumnail_uri")
    val img_uri: String,
```

## SearchModel

ë§ˆì§€ë§‰ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°›ê³  ë¶ë§ˆí¬ë¥¼ ì¶”ê°€í•˜ëŠ”ë“±ì˜ ê¸°ëŠ¥ì„ ë„£ì–´

ë‚´ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í• ê²ƒì´ë‹ˆ ìƒˆë¡œìš´ ëª¨ë¸ì„ ë§Œë“¤ì–´ì¤€ë‹¤

```kotlin
@Parcelize
data class SearchModel(
    val image: Uri,
    val title: String,
    val type: String = "Image",
    val site: String,
    val date: String,
    val doc_url: String,
    var bookMark: Boolean = false
): Parcelable

```
![image](https://github.com/Guri999/TIL/assets/116724657/89b8be2b-b10d-4418-87c9-0bb45c392ff5)

ì´ë²ˆì— ë¦¬ì‚¬ì´í´ëŸ¬ë·°ì— ì“¸ ì•„ì´í…œì¸ë° UIì— ë§ì¶°ì„œ í•„ìš”í•œ ë°ì´í„°ë“¤ì„ ì§€ì •í•´ ì¤¬ë‹¤.

## Repository

ì´ì œ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë§Œë“¤ì–´ ì¤„ ê±°ë‹¤.

```kotlin
class ApiRepository {
    private val searchList: MutableList<SearchModel> = mutableListOf()

    private suspend fun searchImage(
        query: String,
        sort: String,
        page: Int
    ): Response<ImageModel> {
        return KakaoApi.kakaoNetwork.searchImage(
            apiKey = "KakaoAK ${REST_API_KEY}",
            query = query,
            sort = sort,
            page = page
        )
    }

    suspend fun searchData(query: String, sort: String, page: Int): MutableList<SearchModel> {
        val imageApi = searchImage(query, sort, page)
        searchList.clear()

        if (imageApi.isSuccessful) {
            imageApi.body()?.documents?.map { document ->
                SearchModel(
                    image = Uri.parse(document.image_url),
                    title = document.collection,
                    site = document.display_sitename,
                    date = dateTimeFormatter(document.datetime),
                    doc_url = document.doc_url
                )
            }?.let { searchList.addAll(it) }
        }
        return searchList
    }


    fun dateTimeFormatter(date: String): String {
        val originalFormatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSSXXX")
        val targetFormatter = DateTimeFormatter.ofPattern("yy-MM-dd HH-mm-ss")
        val dateTime = LocalDateTime.parse(date, originalFormatter)
        return dateTime.format(targetFormatter)
    }
}
```

ë ˆí¬ì§€í† ë¦¬ì—ì„œ searchDataë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ searchImageì—ì„œ ì…ë ¥ë°›ì€ ê°’ì„ í† ëŒ€ë¡œ Json ë°ì´í„°ë¥¼ ì½”í‹€ë¦° ê°ì²´ë¡œ returní•œë‹¤
> KakaoApiì—ì„œ ì •ì˜í•œ 
private val kakaoRetrofit = Retrofit.Builder().baseUrl(KAKAO_BASE_URL).addConverterFactory(GsonConverterFactory.create()).client(
        createOkHttpClient()
    ).build()
ë¡œ ë°ì´í„°ë¥¼ ì½”í‹€ë¦° ê°ì²´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.

ì´ë ‡ê²Œ ë°˜í™˜ëœ ë°ì´í„°ë¥¼ SearchModelí˜•ì‹ìœ¼ë¡œ ë³€í˜•ì‹œí‚¨ë’¤ searchListì— ì¶”ê°€í•´ì£¼ê³  ë¦¬í„´í•œë‹¤

# Activity

ì´ì œ ë ˆíŠ¸ë¡œí•ìœ¼ë¡œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ë¡œì§ì„ ì™„ì„±í–ˆìœ¼ë‹ˆ

ë°ì´í„°ë¥¼ ë³´ë‚´ê³  (ê²€ìƒ‰ì–´), ë°›ì•„ì„œ UIì— êµ¬ì„±í•˜ë©´ ëœë‹¤.

ì•¡í‹°ë¹„í‹°ì—ì„  ê²€ìƒ‰ì°½ì— ê²€ìƒ‰ì–´ë¥¼ í”„ë˜ê·¸ë¨¼íŠ¸ë¡œ ë³´ë‚´ì£¼ëŠ” ì—­í• ì´ í•„ìš”í•˜ë‹¤

```kotlin
private fun setSearch() = with(binding){
        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener,
            androidx.appcompat.widget.SearchView.OnQueryTextListener {
            override fun onQueryTextSubmit(query: String?): Boolean {
                submitQuery(query)
                return true
            }

            override fun onQueryTextChange(newText: String?): Boolean {
                return false // ê²€ìƒ‰ì–´ ì¶”ì²œë“± ì¶”ê°€ í•˜ë©´ ì¢‹ì„ ë“¯
            }

        })
    }

    private fun submitQuery(query: String?): Boolean {
        return if (query == null) {
            false
        }else {
            val bundle = Bundle().apply {
                putString("searchQuery", query)
            }
            navController.navigate(R.id.nav_search_img, bundle)
            true
        }
    }
```
ì „ì²´ ì ì¸ UIëŠ” ë°”í…€ë„¤ë¹„ê²Œì´í„°ë¥¼ ì‚¬ìš©í•´ ì•¡í‹°ë¹„í‹° 1 - í”„ë˜ê·¸ë¨¼íŠ¸ 2 ë¡œ êµ¬ì„±í–ˆëŠ”ë°

ê²€ìƒ‰í•œ ëª©ë¡ì„ ë„ì›Œì¤„ í”„ë˜ê·¸ë¨¼íŠ¸ nav_search_imgë¡œ ì‚¬ìš©ìê°€ submit í–ˆì„ë•Œ ë³´ë‚´ì¤€ë‹¤.

## SearchFragment.kt

```kotlin
    private fun searchQuery() {
        arguments?.getString("searchQuery")?.let { query->
            viewModel.searchItems(query)
        }
    }
```
ì´ëŸ°ì‹ìœ¼ë¡œ ê°’ì„ ë°›ì•˜ìœ¼ë‹ˆ ë·°ëª¨ë¸ì„ ë¶ˆëŸ¬ì¤€ë‹¤.

### SearchViewModel
```kotlin
class SearchViewModel(private val repository: ApiRepository) : ViewModel() {
    private val _itemList: MutableLiveData<MutableList<SearchModel>> = MutableLiveData()
    val itemList: LiveData<MutableList<SearchModel>> get() = _itemList

    private val _page: MutableLiveData<Int> = MutableLiveData(1)
    val page: LiveData<Int> get() = _page

    fun searchItems(query: String){
        //launchëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì¸ ìŠ¤ë ˆë“œ Dispatchers.Mainì—ì„œ ì¼ì–´ë‚¨
        viewModelScope.launch(Dispatchers.IO) {
            //ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì˜¤ë˜ê±¸ë¦¬ëŠ”ê±´ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì´ë¤„ì ¸ì•¼í•´ì„œ ëª…ì‹œí•´ì£¼ê¸°
            val search = repository.searchData(query, "recency", 1)
            withContext(Dispatchers.Main) {
                _itemList.value = search.toMutableList()
            }
        }
    }
}

class SearchViewModelFactory(
    private val repository: ApiRepository
):ViewModelProvider.Factory {
    override fun <T : ViewModel> create(modelClass: Class<T>): T {
        if(modelClass.isAssignableFrom(SearchViewModel::class.java)) {
            return SearchViewModel(repository) as T
        }else throw IllegalArgumentException("Not found ViewModel class.")
    }
}
```
íŒŒë¼ë¯¸í„°ë¡œ ApiRepositoryë¥¼ ë°›ëŠ”ë‹¤.

í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ queryë¥¼ ë°›ì•˜ìœ¼ë‹ˆ ë ˆí¬ì§€í† ë¦¬ì˜ searchDataë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼í•˜ëŠ”ë°

ì½”ë£¨í‹´ì„ ì‚¬ìš©í•˜ê³  launch(Dispatchers.IO)ë¡œ ëª…ì‹œí•´ì¤˜ì„œ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì´ë£¨ì–´ì§€ê²Œ í•´ì•¼í•œë‹¤

ëª…ì‹œí•˜ì§€ì•Šìœ¼ë©´ launch(Dispatchers.Main)ìœ¼ë¡œ ì¸ì§€í•˜ê²Œ ë˜ëŠ”ë° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì´ë¤„ì ¸ì•¼ ë°ì´í„°ë¥¼ ì›í™œí•˜ê²Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê¼­ ëª…ì‹œí•´ì¤˜ì•¼ í•œë‹¤.

ê·¸ëŸ° ë‹¤ìŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ìœ¼ë©´ UIë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼ë ê²ƒì´ë‹ˆ

withContext(Dispatchers.Main)ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì™„ë£Œë¬ì„ë•Œ ë‹¤ì‹œ ë©”ì¸ìŠ¤ë ˆë“œë¡œ ëŒì•„ì™€ ìŠ¤ë ˆë“œë¥¼ ì „í™˜í•´ì¤€ë‹¤

## SearchFragment.kt

ë‹¤ì‹œ í”„ë˜ê·¸ë¨¼íŠ¸ë¡œ ëŒì•„ì™€ì„œ

```kotlin
private fun setAdapter() {
        _adapter = SearchAdapter()
        binding.rcSearchGrid.adapter = adapter
        binding.rcSearchGrid.layoutManager = StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL)

        viewModel.itemList.observe(viewLifecycleOwner){
            adapter?.submitList(it)
        }
    }
```

itemListë¥¼ ì˜µì €ë¹™ í•˜ê³  ë¦¬ìŠ¤íŠ¸ ì–´ëŒ‘í„°ì˜ submitListì— ê°’ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤.

![image](https://github.com/nbCampGroup-2-24-01-15/ColorContacts/assets/116724657/5f41e689-8846-4f32-99aa-d445fd3c9b0e)

(ìƒ‰ ì„¤ì •ì„ ë”°ë¡œ ì•ˆí–ˆì„ ë¿ì´ì§€ ë‚´ë³´ê´€í•¨ í”„ë˜ê·¸ë¨¼íŠ¸ê°€ ì•„ë‹ˆë‹¤!!, ìì„¸íˆ ë³´ë©´ ì´ë¯¸ì§€ ê²€ìƒ‰ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ëˆŒë €ë‹¤)
(ì˜¤ë¥˜ê°€ ìˆëŠ”ë° ë°ì´í„°ì—ì„œ ì œëª©ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì„ ì°¾ì§€ ëª»í–ˆë‹¤. ì›¹ë¬¸ì„œ ê²€ìƒ‰ì—ì„œ ì°¾ì•„ì•¼ í•˜ë‚˜)

> ğŸ’¡ ë¦¬ìŠ¤íŠ¸ ì–´ëŒ‘í„°ì˜ ë ˆì´ì•„ì›ƒ ë§¤ë‹ˆì €ë¥¼ ì„¤ì •í• ë•Œ
ì¼ë°˜ GridLayoutMangerë¥¼ ì‚¬ìš©í•˜ë©´ 1í–‰ì— ì´ë¯¸ì§€ 2ê°œê°€ ê³ ì •ì´ë‹¤
ì™„ì„±ë³¸ì²˜ëŸ¼ ì´ë¯¸ì§€ í¬ê¸°ì— ë§ì¶° ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±í•˜ë ¤ë©´ StaggeredGridLayoutManagerë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤